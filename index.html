<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KLEE Lab Secure Upload</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <!-- Hero Section -->
    <section class="bg-dark text-white py-5">
        <div class="container text-center">
            <h1 class="display-4">KLEE Lab 온라인 파일 확인 시스템</h1>
            <p class="lead">물리적 하드가 필요 없는 시스템을 위해</p>
        </div>
    </section>

    <!-- Cards Section -->
    <div class="container my-5">
        <div class="row">
            <!-- Card 1 -->
            <div class="col-md-4">
                <div class="card">
                    <img src="https://via.placeholder.com/150" class="card-img-top" alt="Uploaded Image" id="cardImage1">
                    <div class="card-body">
                        <h5 class="card-title">Fiber photometry TASK</h5>
                        <h6 class="card-subtitle mb-2 text-muted">Edited 2024.12.17</h6>
                        <p class="card-text">Fiber photometry 실험 task 확인 가능!</p>
                        <!-- Password Input Section -->
                        <div id="passwordSection1">
                            <input type="password" id="password1" class="form-control mb-2" placeholder="비밀번호 입력">
                            <button class="btn btn-secondary" onclick="checkPassword('password1', 'passwordSection1', 'uploadSection1')">비밀번호 확인</button>
                        </div>
                        <!-- File Upload Section -->
                        <div id="uploadSection1" style="display: none;">
                            <input type="file" class="form-control mb-3" accept="image/*" onchange="updateImage(this, 'cardImage1')">
                            <a href="#" class="btn btn-primary">View Task</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Repeat for additional cards -->
            <!-- Card 2 -->
            <div class="col-md-4">
                <div class="card">
                    <img src="https://via.placeholder.com/150" class="card-img-top" alt="Uploaded Image" id="cardImage2">
                    <div class="card-body">
                        <h5 class="card-title">Fiber photometry TASK</h5>
                        <h6 class="card-subtitle mb-2 text-muted">Edited 2024.12.17</h6>
                        <p class="card-text">Fiber photometry 실험 task 확인 가능!</p>
                        <div id="passwordSection2">
                            <input type="password" id="password2" class="form-control mb-2" placeholder="비밀번호 입력">
                            <button class="btn btn-secondary" onclick="checkPassword('password2', 'passwordSection2', 'uploadSection2')">비밀번호 확인</button>
                        </div>
                        <div id="uploadSection2" style="display: none;">
                            <input type="file" class="form-control mb-3" accept="image/*" onchange="updateImage(this, 'cardImage2')">
                            <a href="#" class="btn btn-primary">View Task</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Card 3 -->
            <div class="col-md-4">
                <div class="card">
                    <img src="https://via.placeholder.com/150" class="card-img-top" alt="Uploaded Image" id="cardImage3">
                    <div class="card-body">
                        <h5 class="card-title">Fiber photometry TASK</h5>
                        <h6 class="card-subtitle mb-2 text-muted">Edited 2024.12.17</h6>
                        <p class="card-text">Fiber photometry 실험 task 확인 가능!</p>
                        <div id="passwordSection3">
                            <input type="password" id="password3" class="form-control mb-2" placeholder="비밀번호 입력">
                            <button class="btn btn-secondary" onclick="checkPassword('password3', 'passwordSection3', 'uploadSection3')">비밀번호 확인</button>
                        </div>
                        <div id="uploadSection3" style="display: none;">
                            <input type="file" class="form-control mb-3" accept="image/*" onchange="updateImage(this, 'cardImage3')">
                            <a href="#" class="btn btn-primary">View Task</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript for Password Protection and Dynamic Image Update -->
    <script>
        // Set a predefined password
        const correctPassword = "1234"; // Replace with your actual password

        // Function to check the password
        function checkPassword(passwordFieldId, passwordSectionId, uploadSectionId) {
            const passwordField = document.getElementById(passwordFieldId);
            const passwordSection = document.getElementById(passwordSectionId);
            const uploadSection = document.getElementById(uploadSectionId);
            if (passwordField.value === correctPassword) {
                alert("비밀번호가 확인되었습니다.");
                passwordSection.style.display = "none"; // Hide password input
                uploadSection.style.display = "block"; // Show upload section
            } else {
                alert("비밀번호가 틀렸습니다.");
            }
        }

        // Function to update the image dynamically
        function updateImage(input, imageId) {
            const file = input.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById(imageId).src = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        }
    </script>

    <!-- Bootstrap JS (optional, for interactivity) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
